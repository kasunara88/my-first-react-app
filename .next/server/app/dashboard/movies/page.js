(()=>{var e={};e.id=727,e.ids=[727],e.modules={12518:e=>{"use strict";e.exports=require("mongodb")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},25078:(e,a,t)=>{"use strict";t.r(a),t.d(a,{GlobalError:()=>n.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=t(70260),s=t(28203),l=t(25155),n=t.n(l),i=t(67292),o={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);t.d(a,o);let d=["",{children:["dashboard",{children:["movies",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,79149)),"/Users/wijamunigekasunaravinda/Desktop/SEProject/ReactJS/my-first-react-app/app/dashboard/movies/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,56922)),"/Users/wijamunigekasunaravinda/Desktop/SEProject/ReactJS/my-first-react-app/app/dashboard/layout.jsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,9019)),"/Users/wijamunigekasunaravinda/Desktop/SEProject/ReactJS/my-first-react-app/app/layout.js"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,46055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/wijamunigekasunaravinda/Desktop/SEProject/ReactJS/my-first-react-app/app/dashboard/movies/page.jsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/dashboard/movies/page",pathname:"/dashboard/movies",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},29895:(e,a,t)=>{Promise.resolve().then(t.bind(t,35821)),Promise.resolve().then(t.t.bind(t,59607,23))},11743:(e,a,t)=>{Promise.resolve().then(t.bind(t,55199)),Promise.resolve().then(t.t.bind(t,28531,23))},55199:(e,a,t)=>{"use strict";t.d(a,{default:()=>eI});var r=t(45512),s=t(79334),l=t(30771),n=t(58009),i=t(90124);let o=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",e),...a})}));o.displayName="Table";let d=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",e),...a}));d.displayName="TableHeader";let c=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...a}));c.displayName="TableBody",n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-neutral-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-neutral-800/50",e),...a})).displayName="TableFooter";let m=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-neutral-100/50 data-[state=selected]:bg-neutral-100 dark:hover:bg-neutral-800/50 dark:data-[state=selected]:bg-neutral-800",e),...a}));m.displayName="TableRow";let u=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("th",{ref:t,className:(0,i.cn)("h-10 px-2 text-left align-middle font-medium text-neutral-500 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] dark:text-neutral-400",e),...a}));u.displayName="TableHead";let p=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("td",{ref:t,className:(0,i.cn)("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...a}));p.displayName="TableCell",n.forwardRef(({className:e,...a},t)=>(0,r.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-neutral-500 dark:text-neutral-400",e),...a})).displayName="TableCaption";var x=t(94825);let h=(0,x.A)("Clapperboard",[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]]);var f=t(65877);let g=(0,x.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);var v=t(77144);let j=(0,x.A)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]),y=(0,x.A)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);var b=t(26753),N=t(31412),w=t(29952),k=t(6004),C=t(30096),R=t(13024),D=t(41675),P=t(82534),M=t(80707),S=t(98060),A=t(30830),_=t(19632),E=t(67783),I=t(72421),T=t(12705),O="Dialog",[z,F]=(0,k.A)(O),[q,G]=z(O),$=e=>{let{__scopeDialog:a,children:t,open:s,defaultOpen:l,onOpenChange:i,modal:o=!0}=e,d=n.useRef(null),c=n.useRef(null),[m=!1,u]=(0,R.i)({prop:s,defaultProp:l,onChange:i});return(0,r.jsx)(q,{scope:a,triggerRef:d,contentRef:c,contentId:(0,C.B)(),titleId:(0,C.B)(),descriptionId:(0,C.B)(),open:m,onOpenChange:u,onOpenToggle:n.useCallback(()=>u(e=>!e),[u]),modal:o,children:t})};$.displayName=O;var J="DialogTrigger";n.forwardRef((e,a)=>{let{__scopeDialog:t,...s}=e,l=G(J,t),n=(0,w.s)(a,l.triggerRef);return(0,r.jsx)(A.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":ei(l.open),...s,ref:n,onClick:(0,N.m)(e.onClick,l.onOpenToggle)})}).displayName=J;var U="DialogPortal",[B,L]=z(U,{forceMount:void 0}),H=e=>{let{__scopeDialog:a,forceMount:t,children:s,container:l}=e,i=G(U,a);return(0,r.jsx)(B,{scope:a,forceMount:t,children:n.Children.map(s,e=>(0,r.jsx)(S.C,{present:t||i.open,children:(0,r.jsx)(M.Z,{asChild:!0,container:l,children:e})}))})};H.displayName=U;var V="DialogOverlay",Z=n.forwardRef((e,a)=>{let t=L(V,e.__scopeDialog),{forceMount:s=t.forceMount,...l}=e,n=G(V,e.__scopeDialog);return n.modal?(0,r.jsx)(S.C,{present:s||n.open,children:(0,r.jsx)(W,{...l,ref:a})}):null});Z.displayName=V;var W=n.forwardRef((e,a)=>{let{__scopeDialog:t,...s}=e,l=G(V,t);return(0,r.jsx)(E.A,{as:T.DX,allowPinchZoom:!0,shards:[l.contentRef],children:(0,r.jsx)(A.sG.div,{"data-state":ei(l.open),...s,ref:a,style:{pointerEvents:"auto",...s.style}})})}),K="DialogContent",X=n.forwardRef((e,a)=>{let t=L(K,e.__scopeDialog),{forceMount:s=t.forceMount,...l}=e,n=G(K,e.__scopeDialog);return(0,r.jsx)(S.C,{present:s||n.open,children:n.modal?(0,r.jsx)(Y,{...l,ref:a}):(0,r.jsx)(Q,{...l,ref:a})})});X.displayName=K;var Y=n.forwardRef((e,a)=>{let t=G(K,e.__scopeDialog),s=n.useRef(null),l=(0,w.s)(a,t.contentRef,s);return n.useEffect(()=>{let e=s.current;if(e)return(0,I.Eq)(e)},[]),(0,r.jsx)(ee,{...e,ref:l,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,N.m)(e.onCloseAutoFocus,e=>{e.preventDefault(),t.triggerRef.current?.focus()}),onPointerDownOutside:(0,N.m)(e.onPointerDownOutside,e=>{let a=e.detail.originalEvent,t=0===a.button&&!0===a.ctrlKey;(2===a.button||t)&&e.preventDefault()}),onFocusOutside:(0,N.m)(e.onFocusOutside,e=>e.preventDefault())})}),Q=n.forwardRef((e,a)=>{let t=G(K,e.__scopeDialog),s=n.useRef(!1),l=n.useRef(!1);return(0,r.jsx)(ee,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{e.onCloseAutoFocus?.(a),a.defaultPrevented||(s.current||t.triggerRef.current?.focus(),a.preventDefault()),s.current=!1,l.current=!1},onInteractOutside:a=>{e.onInteractOutside?.(a),a.defaultPrevented||(s.current=!0,"pointerdown"!==a.detail.originalEvent.type||(l.current=!0));let r=a.target;t.triggerRef.current?.contains(r)&&a.preventDefault(),"focusin"===a.detail.originalEvent.type&&l.current&&a.preventDefault()}})}),ee=n.forwardRef((e,a)=>{let{__scopeDialog:t,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:i,...o}=e,d=G(K,t),c=n.useRef(null),m=(0,w.s)(a,c);return(0,_.Oh)(),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(P.n,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:i,children:(0,r.jsx)(D.qW,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":ei(d.open),...o,ref:m,onDismiss:()=>d.onOpenChange(!1)})}),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(em,{titleId:d.titleId}),(0,r.jsx)(eu,{contentRef:c,descriptionId:d.descriptionId})]})]})}),ea="DialogTitle",et=n.forwardRef((e,a)=>{let{__scopeDialog:t,...s}=e,l=G(ea,t);return(0,r.jsx)(A.sG.h2,{id:l.titleId,...s,ref:a})});et.displayName=ea;var er="DialogDescription",es=n.forwardRef((e,a)=>{let{__scopeDialog:t,...s}=e,l=G(er,t);return(0,r.jsx)(A.sG.p,{id:l.descriptionId,...s,ref:a})});es.displayName=er;var el="DialogClose",en=n.forwardRef((e,a)=>{let{__scopeDialog:t,...s}=e,l=G(el,t);return(0,r.jsx)(A.sG.button,{type:"button",...s,ref:a,onClick:(0,N.m)(e.onClick,()=>l.onOpenChange(!1))})});function ei(e){return e?"open":"closed"}en.displayName=el;var eo="DialogTitleWarning",[ed,ec]=(0,k.q)(eo,{contentName:K,titleName:ea,docsSlug:"dialog"}),em=({titleId:e})=>{let a=ec(eo),t=`\`${a.contentName}\` requires a \`${a.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${a.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${a.docsSlug}`;return n.useEffect(()=>{e&&!document.getElementById(e)&&console.error(t)},[t,e]),null},eu=({contentRef:e,descriptionId:a})=>{let t=ec("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t.contentName}}.`;return n.useEffect(()=>{let t=e.current?.getAttribute("aria-describedby");a&&t&&!document.getElementById(a)&&console.warn(r)},[r,e,a]),null},ep=t(51255);let ex=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)(Z,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));ex.displayName=Z.displayName;let eh=n.forwardRef(({className:e,children:a,...t},s)=>(0,r.jsxs)(H,{children:[(0,r.jsx)(ex,{}),(0,r.jsxs)(X,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-neutral-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-neutral-800 dark:bg-neutral-950",e),...t,children:[a,(0,r.jsxs)(en,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-neutral-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-neutral-100 data-[state=open]:text-neutral-500 dark:ring-offset-neutral-950 dark:focus:ring-neutral-300 dark:data-[state=open]:bg-neutral-800 dark:data-[state=open]:text-neutral-400",children:[(0,r.jsx)(ep.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));eh.displayName=X.displayName;let ef=({className:e,...a})=>(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});ef.displayName="DialogHeader";let eg=({className:e,...a})=>(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});eg.displayName="DialogFooter";let ev=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)(et,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));ev.displayName=et.displayName;let ej=n.forwardRef(({className:e,...a},t)=>(0,r.jsx)(es,{ref:t,className:(0,i.cn)("text-sm text-neutral-500 dark:text-neutral-400",e),...a}));ej.displayName=es.displayName;var ey=t(67851),eb=t(61007),eN=t(3949),ew=t(9317),ek=t(91233),eC=t(36e3);function eR({movie:e,open:a,onSubmit:t,onCancel:s,loading:i}){let[o,d]=(0,n.useState)(e?.title),[c,m]=(0,n.useState)(e?.year),[u,p]=(0,n.useState)(e?.plot),[x,N]=(0,n.useState)(e?.poster),[w,k]=(0,n.useState)(e?.rated),[C,R]=(0,n.useState)(e.imdb?.rating??0),[D,P]=(0,n.useState)([]),M=eC.D.map(e=>({label:e,value:e}));return(0,r.jsx)($,{open:a,onOpenChange:s,children:(0,r.jsxs)(eh,{className:"max-w-2xl rounded-xl shadow-xl",children:[(0,r.jsx)(ef,{className:"border-b pb-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(h,{className:"h-6 w-6 text-primary"}),(0,r.jsxs)("div",{children:[(0,r.jsx)(ev,{className:"text-2xl font-bold",children:"Edit Movie"}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground mt-1",children:["Update details for ",e?.title]})]})]})}),(0,r.jsxs)("form",{onSubmit:a=>{a.preventDefault(),t({...e,title:o,year:c,plot:u,genres:D,poster:x,rated:w,imdb:{rating:C}})},className:"space-y-6 px-1",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(eN.J,{className:"flex items-center gap-2",children:[(0,r.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}),"Movie Title"]}),(0,r.jsx)(eb.p,{value:o,onChange:e=>d(e.target.value),className:"pl-10 focus:ring-primary",placeholder:"The Dark Knight"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(eN.J,{className:"flex items-center gap-2",children:[(0,r.jsx)(g,{className:"h-4 w-4 text-muted-foreground"}),"Release Year"]}),(0,r.jsx)(eb.p,{type:"number",value:c,onChange:e=>m(Number(e.target.value)),className:"pl-10 [appearance:textfield]",placeholder:"2024"})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(eN.J,{className:"flex items-center gap-2",children:[(0,r.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"}),"Plot Summary"]}),(0,r.jsx)(ew.T,{value:u,onChange:e=>p(e.target.value),className:"min-h-[120px] focus:ring-primary",placeholder:"A compelling summary of the movie's storyline..."}),(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:[(0,r.jsxs)("span",{children:[u?.length||0,"/500 characters"]}),(0,r.jsx)("span",{children:"Minimum 50 characters"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(eN.J,{children:"Genres"}),(0,r.jsx)(ek.K,{list:M,selectedItems:D,onValueChange:P,placeholder:"Select genres...",className:"border-2 border-muted focus:border-primary"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(eN.J,{children:"Content Rating"}),(0,r.jsxs)(ey.l6,{value:w,onValueChange:k,children:[(0,r.jsx)(ey.bq,{className:"h-12 px-4 text-md focus:ring-primary",children:(0,r.jsx)(ey.yv,{placeholder:"Select Rating"})}),(0,r.jsx)(ey.gC,{className:"max-h-60",children:eC.l.map(e=>(0,r.jsx)(ey.eb,{value:e,className:"text-md py-3",children:e},e))})]})]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(eN.J,{className:"flex items-center gap-2",children:[(0,r.jsx)(j,{className:"h-4 w-4 text-muted-foreground"}),"IMDb Rating"]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(eb.p,{value:C,onChange:e=>R(Number(e.target.value)),type:"number",step:"0.1",className:"pl-10 focus:ring-primary",placeholder:"8.5"}),(0,r.jsx)(j,{className:"absolute left-3 top-3 h-4 w-4 text-yellow-500"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(eN.J,{className:"flex items-center gap-2",children:[(0,r.jsx)(y,{className:"h-4 w-4 text-muted-foreground"}),"Poster URL"]}),(0,r.jsx)(eb.p,{value:x,onChange:e=>N(e.target.value),type:"url",className:"focus:ring-primary",placeholder:"https://example.com/poster.jpg"})]}),x&&(0,r.jsx)("div",{className:"border rounded-lg p-2 bg-muted/10",children:(0,r.jsx)("img",{src:x,alt:"Poster preview",className:"h-40 w-28 object-cover rounded-md mx-auto",onError:e=>{e.target.src="/placeholder-poster.svg"}})})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-4 pt-6 border-t",children:[(0,r.jsx)(l.$,{type:"button",variant:"outline",onClick:s,className:"px-6 py-3 text-md",disabled:i,children:"Cancel"}),(0,r.jsx)(l.$,{type:"submit",className:"px-6 py-3 text-md bg-gradient-to-r from-primary to-primary/90 hover:from-primary/90 hover:to-primary",disabled:i,children:i?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(b.A,{className:"mr-2 h-5 w-5 animate-spin"}),"Saving..."]}):"Save Changes"})]})]})]})})}var eD=t(26248);let eP=(0,eD.createServerReference)("7f62f94429305fe54bc285d34935238558cee0dc37",eD.callServer,void 0,eD.findSourceMapURL,"updateMovie"),eM=(0,eD.createServerReference)("7fe90c954cd02f1140a12f88d51319613c76af01bb",eD.callServer,void 0,eD.findSourceMapURL,"deleteMovie"),eS=(0,x.A)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);function eA({open:e,movie:a,onConfirm:t,onCancel:s,loading:n}){return(0,r.jsx)($,{open:e,onOpenChange:s,children:(0,r.jsxs)(eh,{className:"max-w-sm sm:max-w-md",children:[(0,r.jsxs)(ef,{children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(eS,{className:"h-5 w-5 text-red-500"}),(0,r.jsx)(ev,{className:"whitespace-nowrap",children:"Delete Movie"})]}),(0,r.jsxs)(ej,{className:"mt-2",children:["Are you sure you want to delete the movie"," ",(0,r.jsx)("strong",{children:a?.title}),"? This action cannot be undone."]})]}),(0,r.jsxs)(eg,{className:"mt-4",children:[(0,r.jsx)(l.$,{variant:"outline",onClick:s,disabled:n,children:"Cancel"}),(0,r.jsxs)(l.$,{variant:"destructive",onClick:t,disabled:n,className:"flex items-center gap-2",children:[n&&(0,r.jsx)(b.A,{className:"h-4 w-4 animate-spin"}),"Delete"]})]})]})})}let e_=(0,x.A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),eE=(0,x.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function eI({movies:e}){let[a,t]=(0,n.useState)(!1),[i,x]=(0,n.useState)(!1),[h,f]=(0,n.useState)(null),[g,v]=(0,n.useState)(null),y=(0,s.useRouter)(),b=e=>{console.log("Edit",e),f(e)},N=async e=>{let{id:a,title:r,year:s,plot:l,rated:n,genres:i,poster:o,imdb:d}=e;t(!0);let c=await eP(a,{title:r,year:s,plot:l,rated:n,genres:i,poster:o,imdb:d});t(!1),c?.success&&(f(null),y.refresh())},w=e=>{v(e)},k=async e=>{x(!0);let a=await eM(e);x(!1),a?.success&&(v(null),y.refresh())};return(0,r.jsxs)("div",{className:"w-full overflow-x-auto",children:[(0,r.jsxs)(o,{className:"min-w-full table-auto border border-gray-200",children:[(0,r.jsx)(d,{className:"bg-gray-100",children:(0,r.jsxs)(m,{children:[(0,r.jsx)(u,{className:"  px-4 py-2 font-semibold text-left",children:"Cover"}),(0,r.jsx)(u,{className:"px-4 py-2 font-semibold text-left",children:"Movie Title"}),(0,r.jsx)(u,{className:"px-4 py-2 font-semibold text-left",children:"Year"}),(0,r.jsx)(u,{className:"px-4 py-2 font-semibold text-left",children:"Rating"}),(0,r.jsx)(u,{className:"px-4 py-2 font-semibold text-left",children:"IMDb"}),(0,r.jsx)(u,{className:"px-4 py-2 font-semibold text-left",children:"Genres"}),(0,r.jsx)(u,{className:"px-4 py-2 font-semibold text-center",children:"Actions"})]})}),(0,r.jsx)(c,{children:e.map(e=>(0,r.jsxs)(m,{className:"odd:bg-white even:bg-gray-50 hover:bg-gray-100",children:[(0,r.jsx)(p,{className:"px-4 py-2",children:(0,r.jsx)("div",{className:"h-[70px] w-[50px] overflow-hidden bg-gray-200 rounded-md flex items-center justify-center",children:e.poster?(0,r.jsx)("img",{src:e.poster,alt:`${e.title} poster`,className:"h-full w-auto object-cover"}):(0,r.jsx)("span",{className:"text-xs text-gray-500",children:"No Image"})})}),(0,r.jsx)(p,{className:"px-4 py-2",children:e?.title??"N/A"}),(0,r.jsx)(p,{className:"px-4 py-2",children:e?.year??"N/A"}),(0,r.jsx)(p,{className:"px-4 py-2",children:e?.rate??"N/A"}),(0,r.jsx)(p,{className:"px-4 py-2",children:(0,r.jsxs)("div",{className:"flex items-center justify-end gap-1",children:[(0,r.jsx)(j,{className:"h-4 w-4 text-yellow-500 fill-yellow-500"}),(0,r.jsx)("span",{children:e?.imdb?.rating?.toFixed(1)??"N/A"})]})}),(0,r.jsx)(p,{className:"px-4 py-2",children:e?.genres.join(", ")??"N/A"}),(0,r.jsx)(p,{className:"px-4 py-2 text-center",children:(0,r.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,r.jsxs)(l.$,{variant:"outline",size:"sm",className:"h-8 gap-1",onClick:()=>b(e),children:[(0,r.jsx)(e_,{className:"h-3.5 w-3.5"}),(0,r.jsx)("span",{className:"sr-only",children:"Edit"})]}),(0,r.jsxs)(l.$,{variant:"destructive",size:"sm",className:"h-8 gap-1",onClick:()=>w(e),children:[(0,r.jsx)(eE,{className:"h-3.5 w-3.5"}),(0,r.jsx)("span",{className:"sr-only",children:"Delete"})]})]})})]},e.id))})]}),h&&(0,r.jsx)(eR,{movie:h,open:!0,onSubmit:N,onCancel:()=>f(null),loading:a}),g&&(0,r.jsx)(eA,{movie:g,open:!0,onCancel:()=>v(null),onConfirm:()=>k(g?.id),loading:i})]})}t(73864)},73864:(e,a,t)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),function(e,a){for(var t in a)Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}(a,{default:function(){return o},getImageProps:function(){return i}});let r=t(25488),s=t(42034),l=t(41902),n=r._(t(21628));function i(e){let{props:a}=(0,s.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(a))void 0===t&&delete a[e];return{props:a}}let o=l.Image},35821:(e,a,t)=>{"use strict";t.d(a,{default:()=>r});let r=(0,t(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/Users/wijamunigekasunaravinda/Desktop/SEProject/ReactJS/my-first-react-app/app/dashboard/movies/movie-table.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/Users/wijamunigekasunaravinda/Desktop/SEProject/ReactJS/my-first-react-app/app/dashboard/movies/movie-table.jsx","default")},79149:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>g});var r=t(62740),s=t(76301),l=t(59607),n=t.n(l),i=t(56976);let o=(0,i.A)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),d=(0,i.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),c=(0,i.A)("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]),m=(0,i.A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);var u=t(7705),p=t(56399),x=t(81755),h=t(35821);async function f(){try{let e=await x.db.collection("movies_n").find({}).sort({metacritic:-1}).limit(50).toArray();if(e){let a=e.map(e=>({id:e._id.toString(),title:e.title,year:e.year,plot:e.plot,rate:e.rated,genres:e.genres,poster:e.poster,imdb:e.imdb}));return(0,r.jsx)(h.default,{movies:a})}}catch(e){return console.log("Error",e),(0,r.jsx)("div",{className:"flex justify-center items-center h-[186.5px]",children:(0,r.jsx)("p",{className:"text-red-700 font-medium animate-pulse duration-1000",children:"No Movie Available"})})}}function g(){return(0,r.jsxs)("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 md:gap-0",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight leading-tight",children:"Movie Management"}),(0,r.jsx)("p",{className:"text-muted-foreground mt-2 text-sm md:text-base",children:"Manage your movie catalog and streaming availability"})]}),(0,r.jsxs)("div",{className:"flex gap-3",children:[(0,r.jsx)(n(),{href:"/movies",children:(0,r.jsxs)(p.$,{variant:"ghost",className:"gap-2 hover:bg-accent/50 transition-colors",children:[(0,r.jsx)(o,{className:"h-4 w-4"}),"Preview as User"]})}),(0,r.jsx)(n(),{href:"/dashboard/add-movie",children:(0,r.jsxs)(p.$,{className:"gap-2 transition-colors",children:[(0,r.jsx)(d,{className:"h-4 w-4"}),"Add New Movie"]})})]})]}),(0,r.jsxs)(u.Zp,{className:"shadow-lg border border-border/10 bg-gradient-to-br from-background via-background to-background/60",children:[(0,r.jsx)(u.aR,{className:"pb-2",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(u.ZB,{className:"text-xl font-semibold",children:"Movie Catalog"}),(0,r.jsx)(u.BT,{className:"mt-1 text-sm md:text-base",children:"Currently showing all available movies in your library"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,r.jsx)(c,{className:"h-4 w-4"}),(0,r.jsx)("span",{children:"Grid View"})]})]})}),(0,r.jsx)(u.Wu,{className:"px-0",children:(0,r.jsx)(s.Suspense,{fallback:(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 gap-3",children:[(0,r.jsx)(m,{className:"h-8 w-8 animate-spin text-primary"}),(0,r.jsx)("p",{className:"text-muted-foreground text-sm",children:"Loading movie database..."})]}),children:(0,r.jsx)("div",{className:"border-t border-border px-4 py-4",children:(0,r.jsx)(f,{})})})})]})]})}},56399:(e,a,t)=>{"use strict";t.d(a,{$:()=>d});var r=t(62740),s=t(76301),l=t(15225),n=t(67699),i=t(29792);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-neutral-300",{variants:{variant:{default:"bg-neutral-900 text-neutral-50 shadow hover:bg-neutral-900/90 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/90",destructive:"bg-red-500 text-neutral-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-neutral-50 dark:hover:bg-red-900/90",outline:"border border-neutral-200 bg-white shadow-sm hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",secondary:"bg-neutral-100 text-neutral-900 shadow-sm hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",ghost:"hover:bg-neutral-100 hover:text-neutral-900 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",link:"text-neutral-900 underline-offset-4 hover:underline dark:text-neutral-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef(({className:e,variant:a,size:t,asChild:s=!1,...n},d)=>{let c=s?l.DX:"button";return(0,r.jsx)(c,{className:(0,i.cn)(o({variant:a,size:t,className:e})),ref:d,...n})});d.displayName="Button"},7705:(e,a,t)=>{"use strict";t.d(a,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>n,aR:()=>i,wL:()=>m});var r=t(62740),s=t(76301),l=t(29792);let n=s.forwardRef(({className:e,...a},t)=>(0,r.jsx)("div",{ref:t,className:(0,l.cn)("rounded-xl border border-neutral-200 bg-white text-neutral-950 shadow dark:border-neutral-800 dark:bg-neutral-950 dark:text-neutral-50",e),...a}));n.displayName="Card";let i=s.forwardRef(({className:e,...a},t)=>(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...a}));i.displayName="CardHeader";let o=s.forwardRef(({className:e,...a},t)=>(0,r.jsx)("div",{ref:t,className:(0,l.cn)("font-semibold leading-none tracking-tight",e),...a}));o.displayName="CardTitle";let d=s.forwardRef(({className:e,...a},t)=>(0,r.jsx)("div",{ref:t,className:(0,l.cn)("text-sm text-neutral-500 dark:text-neutral-400",e),...a}));d.displayName="CardDescription";let c=s.forwardRef(({className:e,...a},t)=>(0,r.jsx)("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...a}));c.displayName="CardContent";let m=s.forwardRef(({className:e,...a},t)=>(0,r.jsx)("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...a}));m.displayName="CardFooter"},81755:(e,a,t)=>{"use strict";t.d(a,{db:()=>l});var r=t(12518);let s=process.env.MONGODB_URI,l=new r.MongoClient(s,{}).db("sample_mflix")},29792:(e,a,t)=>{"use strict";t.d(a,{cn:()=>l});var r=t(13673),s=t(47317);function l(...e){return(0,s.QP)((0,r.$)(e))}}};var a=require("../../../webpack-runtime.js");a.C(e);var t=e=>a(a.s=e),r=a.X(0,[638,788,77,361,531,181,902,891,652,248,188],()=>t(25078));module.exports=r})();